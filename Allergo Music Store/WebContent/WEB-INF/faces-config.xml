<?xml version="1.0" encoding="UTF-8"?>

<faces-config
    xmlns="http://java.sun.com/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_2_0.xsd"
    version="2.0">
	<managed-bean>
		<managed-bean-name>student</managed-bean-name>
		<managed-bean-class>com.ubc.ca.model.Student</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>loginListener</managed-bean-name>
		<managed-bean-class>com.ubc.ca.phaselistener.LoginListener</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>shoppingCart</managed-bean-name>
		<managed-bean-class>com.ubc.ca.model.ShoppingCart</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<navigation-rule>  
      <from-view-id>/*</from-view-id>  
      <navigation-case>  
          <from-outcome>loginPage</from-outcome>  
          <to-view-id>/index.jsp</to-view-id>  
      </navigation-case>  
  </navigation-rule>
	<navigation-rule>
		<display-name>*</display-name>
		<from-view-id>/*</from-view-id>
		<navigation-case>
			<from-outcome>Add</from-outcome>
			<to-view-id>/Checkout.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Checkout</display-name>
		<from-view-id>/Checkout.jsp</from-view-id>
		<navigation-case>
			<from-outcome>search</from-outcome>
			<to-view-id>/Results.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Results</display-name>
		<from-view-id>/Results.jsp</from-view-id>
		<navigation-case>
			<from-outcome>AddSearch</from-outcome>
			<to-view-id>/Checkout.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Checkout</display-name>
		<from-view-id>/Checkout.jsp</from-view-id>
		<navigation-case>
			<from-outcome>OrderConfirmation</from-outcome>
			<to-view-id>/OrderConfirmation.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>index</display-name>
		<from-view-id>/index.jsp</from-view-id>
		<navigation-case>
			<from-outcome>clerk</from-outcome>
			<to-view-id>/Clerk.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>index</display-name>
		<from-view-id>/index.jsp</from-view-id>
		<navigation-case>
			<from-outcome>customer</from-outcome>
			<to-view-id>/Customer.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>index</display-name>
		<from-view-id>/index.jsp</from-view-id>
		<navigation-case>
			<from-outcome>manager</from-outcome>
			<to-view-id>/Manager.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Customer</display-name>
		<from-view-id>/Customer.jsp</from-view-id>
		<navigation-case>
			<from-outcome>checkout</from-outcome>
			<to-view-id>/Checkout.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Clerk</display-name>
		<from-view-id>/Clerk.jsp</from-view-id>
		<navigation-case>
			<from-outcome>checkout</from-outcome>
			<to-view-id>/Checkout.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Clerk</display-name>
		<from-view-id>/Clerk.jsp</from-view-id>
		<navigation-case>
			<from-outcome>returnItem</from-outcome>
			<to-view-id>/ReturnItem.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Customer</display-name>
		<from-view-id>/Customer.jsp</from-view-id>
		<navigation-case>
			<from-outcome>registerCustomer</from-outcome>
			<to-view-id>/RegisterCustomer.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>Manager</display-name>
		<from-view-id>/Manager.jsp</from-view-id>
		<navigation-case>
			<from-outcome>addItem</from-outcome>
			<to-view-id>/AddItem.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>index</display-name>
		<from-view-id>/index.jsp</from-view-id>
		<navigation-case>
			<from-outcome>registerCustomer</from-outcome>
			<to-view-id>/RegisterCustomer.jsp</to-view-id>
		</navigation-case>
	</navigation-rule>
	<lifecycle>
		<phase-listener>com.ubc.ca.phaselistener.LoginListener</phase-listener>
	</lifecycle>

</faces-config>
